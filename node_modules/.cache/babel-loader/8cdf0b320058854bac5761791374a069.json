{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import{connect}from'react-redux';import{useForm}from'react-hook-form';import{useParams}from'react-router-dom';import{getAll}from'../../actions';import{create}from'../../actions';import{AiOutlineMail,AiOutlineUser}from'react-icons/ai';import{CgWorkAlt}from'react-icons/cg';import{FaIndustry}from'react-icons/fa';import Title from'../../components/Title';import Button from'../../components/Button';import bg from'../../assets/static/jobpool.jpg';import'./styles.scss';import moment from'moment';import LinearProgress from'@mui/material/LinearProgress';var style={backgroundImage:\"linear-gradient(\\nrgba(0, 0, 0, 0.9),\\nrgba(0, 0, 0, 0.9)\\n),url(\".concat(bg,\")\")};moment.locale('es-mx');console.log(moment().format('YYYY-MM-DD HH:mm:ss'));var Contact=function Contact(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _useState=useState(),_useState2=_slicedToArray(_useState,2),num=_useState2[0],setNum=_useState2[1];var _useParams=useParams(),id=_useParams.id;var test=props.test;useEffect(function(){props.getAll(\"tests/\".concat(id),'GET_TEST');intervalRef.current=setInterval(decreaseNum,1000);return function(){return clearInterval(intervalRef.current);};// eslint-disable-next-line\n},[]);useEffect(function(){if(test&&test.test!==undefined){var start=moment();var end=moment(test.test.end);var diff=end.diff(start,'seconds');console.log(moment(test.test.end).format('YYYY-MM-DD HH:mm:ss'));setNum(diff);}// eslint-disable-next-line\n},[test]);var intervalRef=useRef();var decreaseNum=function decreaseNum(){setNum(function(prev){return prev-1;});};var onSubmit=function onSubmit(data){props.create(\"tests/\".concat(id),'CREATE_TEST',data).then(function(){props.history.push('/');});};var progress=(num*100/3600).toFixed(0);if(test&&num>0){var _test$test,_test$sections;return/*#__PURE__*/React.createElement(\"div\",{className:\"test\",style:style},/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer__right\"},/*#__PURE__*/React.createElement(Title,{className:\"title --mid\"},(_test$test=test.test)===null||_test$test===void 0?void 0:_test$test.name),\"Tiempo Restante\",/*#__PURE__*/React.createElement(LinearProgress,{color:\"success\",variant:\"determinate\",value:progress}),/*#__PURE__*/React.createElement(\"form\",{className:\"testContainer__form\",id:\"test\",onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer__formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},/*#__PURE__*/React.createElement(AiOutlineUser,null)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",placeholder:\"Nombre Completo\",ref:register({required:true})})),/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer__formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},/*#__PURE__*/React.createElement(FaIndustry,null)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"company\",placeholder:\"Empresa\",ref:register({required:true})})),/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer__formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},/*#__PURE__*/React.createElement(CgWorkAlt,null)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"job\",placeholder:\"Puesto\",ref:register({required:true})})),/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer__formGroup\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},/*#__PURE__*/React.createElement(AiOutlineMail,null)),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",placeholder:\"Email\",ref:register({required:true})})),(_test$sections=test.sections)===null||_test$sections===void 0?void 0:_test$sections.map(function(section,index){var _section$questions;return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(Title,{className:\"title --mid\"},section.title),(_section$questions=section.questions)===null||_section$questions===void 0?void 0:_section$questions.map(function(question,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"test__question\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},question.question,/*#__PURE__*/React.createElement(\"div\",{className:\"test__answerBox\"},question.answers.map(function(answer,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"test__answer\"},answer.answer,/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:question.id,value:answer.id,ref:register}));}))));}));}),/*#__PURE__*/React.createElement(\"div\",{className:\"testContainer__formGroup\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"Enviar\"))))));}else{return/*#__PURE__*/React.createElement(\"h1\",null,\"El Examen Ha Terminado\");}};var mapDispatchToProps={getAll:getAll,create:create};var mapStatetoProps=function mapStatetoProps(state){return{test:state.reducerTests.test};};export default connect(mapStatetoProps,mapDispatchToProps)(Contact);","map":{"version":3,"sources":["C:/Users/MEPSA-FULLSTACK/Desktop/workspace-release-12-2022/web/src/pages/Tests/index.jsx"],"names":["React","useEffect","useState","useRef","connect","useForm","useParams","getAll","create","AiOutlineMail","AiOutlineUser","CgWorkAlt","FaIndustry","Title","Button","bg","moment","LinearProgress","style","backgroundImage","locale","console","log","format","Contact","props","register","handleSubmit","num","setNum","id","test","intervalRef","current","setInterval","decreaseNum","clearInterval","undefined","start","end","diff","prev","onSubmit","data","then","history","push","progress","toFixed","name","required","sections","map","section","index","title","questions","question","answers","answer","mapDispatchToProps","mapStatetoProps","state","reducerTests"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport { useForm } from 'react-hook-form'\nimport { useParams } from 'react-router-dom'\nimport { getAll } from '../../actions'\nimport { create } from '../../actions'\nimport { AiOutlineMail, AiOutlineUser } from 'react-icons/ai'\nimport { CgWorkAlt } from 'react-icons/cg'\nimport { FaIndustry } from 'react-icons/fa'\nimport Title from '../../components/Title'\nimport Button from '../../components/Button'\nimport bg from '../../assets/static/jobpool.jpg'\nimport './styles.scss'\nimport moment from 'moment'\nimport LinearProgress from '@mui/material/LinearProgress'\nconst style = {\n  backgroundImage: `linear-gradient(\nrgba(0, 0, 0, 0.9),\nrgba(0, 0, 0, 0.9)\n),url(${bg})`,\n}\n\nmoment.locale('es-mx')\n\nconsole.log(moment().format('YYYY-MM-DD HH:mm:ss'))\n\nconst Contact = props => {\n  const { register, handleSubmit } = useForm()\n  const [num, setNum] = useState()\n\n  const { id } = useParams()\n  const { test } = props\n\n  useEffect(() => {\n    props.getAll(`tests/${id}`, 'GET_TEST')\n    intervalRef.current = setInterval(decreaseNum, 1000)\n    return () => clearInterval(intervalRef.current)\n    // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    if (test && test.test !== undefined) {\n      const start = moment()\n      const end = moment(test.test.end)\n      const diff = end.diff(start, 'seconds')\n      console.log(moment(test.test.end).format('YYYY-MM-DD HH:mm:ss'))\n\n      setNum(diff)\n    }\n    // eslint-disable-next-line\n  }, [test])\n\n  let intervalRef = useRef()\n\n  const decreaseNum = () => {\n    setNum(prev => prev - 1)\n  }\n\n  const onSubmit = data => {\n    props.create(`tests/${id}`, 'CREATE_TEST', data).then(() => {\n      props.history.push('/')\n    })\n  }\n\n  const progress = ((num * 100) / 3600).toFixed(0)\n\n  if (test && num > 0) {\n    return (\n      <div className=\"test\" style={style}>\n        <div className=\"testContainer\">\n          <div className=\"testContainer__right\">\n            <Title className=\"title --mid\">{test.test?.name}</Title>\n            Tiempo Restante\n            <LinearProgress\n              color=\"success\"\n              variant=\"determinate\"\n              value={progress}\n            />\n            <form\n              className=\"testContainer__form\"\n              id=\"test\"\n              onSubmit={handleSubmit(onSubmit)}\n            >\n              <div className=\"testContainer__formGroup\">\n                <label htmlFor=\"\">\n                  <AiOutlineUser />\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  placeholder=\"Nombre Completo\"\n                  ref={register({ required: true })}\n                />\n              </div>\n              <div className=\"testContainer__formGroup\">\n                <label htmlFor=\"\">\n                  <FaIndustry />\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"company\"\n                  placeholder=\"Empresa\"\n                  ref={register({ required: true })}\n                />\n              </div>\n              <div className=\"testContainer__formGroup\">\n                <label htmlFor=\"\">\n                  <CgWorkAlt />\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"job\"\n                  placeholder=\"Puesto\"\n                  ref={register({ required: true })}\n                />\n              </div>\n              <div className=\"testContainer__formGroup\">\n                <label htmlFor=\"\">\n                  <AiOutlineMail />\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  ref={register({ required: true })}\n                />\n              </div>\n              {test.sections?.map((section, index) => (\n                <div key={index}>\n                  <Title className=\"title --mid\">{section.title}</Title>\n                  {section.questions?.map((question, index) => (\n                    <div key={index} className=\"test__question\">\n                      <label htmlFor=\"\">\n                        {question.question}\n                        <div className=\"test__answerBox\">\n                          {question.answers.map((answer, index) => (\n                            <div key={index} className=\"test__answer\">\n                              {answer.answer}\n                              <input\n                                type=\"radio\"\n                                name={question.id}\n                                value={answer.id}\n                                ref={register}\n                              />\n                            </div>\n                          ))}\n                        </div>\n                      </label>\n                    </div>\n                  ))}\n                </div>\n              ))}\n              <div className=\"testContainer__formGroup\">\n                <Button type=\"submit\">Enviar</Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    return <h1>El Examen Ha Terminado</h1>\n  }\n}\n\nconst mapDispatchToProps = {\n  getAll,\n  create,\n}\n\nconst mapStatetoProps = state => {\n  return {\n    test: state.reducerTests.test,\n  }\n}\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Contact)\n"]},"metadata":{},"sourceType":"module"}