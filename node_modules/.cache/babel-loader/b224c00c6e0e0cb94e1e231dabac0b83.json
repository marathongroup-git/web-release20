{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import Swal from'sweetalert2';var API_KEY_TOKEN='52b2165c5a8252eef0a3781c5a31bc9fc9a4bca0f5085a8650ea3306057f31d9';axios.interceptors.response.use(function(response){return response;},function(error){if(error.response.status===401){Swal.fire({title:'Sesión Expirada',text:'Su sesión ha expirado',icon:'warning',confirmButtonColor:'#3085d6',confirmButtonText:'Aceptar'}).then(function(result){if(result.isConfirmed){logOut();window.location.href='/login';}});}else{return Promise.reject(error);}});export var setTitle=function setTitle(payload){return{type:'SET_TITLE',payload:payload};};export var setWraper=function setWraper(payload){return{type:'SET_WRAPER',payload:payload};};export var setLoading=function setLoading(payload){return{type:'SET_LOADING',payload:payload};};export var setSocket=function setSocket(payload){return{type:'SET_SOCKET',payload:payload};};export var setUser=function setUser(payload,redirectionUrl){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var user,password,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=payload.user,password=payload.password;_context.prev=1;_context.next=4;return axios({method:'post',url:\"\".concat(process.env.REACT_APP_API,\"auth/sing-in\"),auth:{username:user,password:password},data:{apiKeyToken:API_KEY_TOKEN}});case 4:res=_context.sent;localStorage.setItem('token',res.data.token);localStorage.setItem('user',res.data.user.user);localStorage.setItem('name',res.data.user.name);localStorage.setItem('id',res.data.user.id);localStorage.setItem('role',res.data.user.role);localStorage.setItem('BranchCD',res.data.user.BranchCD);localStorage.setItem('department',res.data.user.department);window.location.href=redirectionUrl;dispatch({type:'LOGIN_REQUEST'});_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);Swal.fire({icon:'error',title:'Oops...',text:'Usuario o contraseña incorrectos'});case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,16]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logOut=function logOut(){return{type:'LOG_OUT'};};//CRUD\nvar storedJwt=localStorage.getItem('token');export var getAll=function getAll(endPoint,typeAction){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endPoint),headers:{Authorization:\"Bearer \".concat(storedJwt)},method:'get'});case 3:res=_context2.sent;console.log(res.data);dispatch({type:typeAction,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var get=function get(endPoint,typeAction){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endPoint),headers:{Authorization:\"Bearer \".concat(storedJwt)},method:'get'});case 3:res=_context3.sent;dispatch({type:typeAction,payload:res.data.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var create=function create(endPoint,typeAction,data){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var Toast;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endPoint),headers:{Authorization:\"Bearer \".concat(storedJwt)},method:'post',data:data});case 3:dispatch({type:typeAction});Toast=Swal.mixin({toast:true,position:'top-end',showConfirmButton:false,timer:1500});Toast.fire({icon:'success',title:'Se guardo correctamente'});_context4.next=12;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);Swal.fire({title:'Error!',text:'Ah ocurrido un error',icon:'error',confirmButtonColor:'#3085d6',confirmButtonText:'Aceptar'});case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var update=function update(endpoint,typeAction,data){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endpoint),headers:{Authorization:\"Bearer \".concat(storedJwt)},method:'put',data:data});case 3:res=_context5.sent;dispatch({type:typeAction,payload:_objectSpread(_objectSpread({},data),{},{id:res.data.data?parseInt(res.data.data):0})});_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var deleted=function deleted(endpoint,typeAction){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endpoint),headers:{Authorization:\"Bearer \".concat(storedJwt)},method:'delete'});case 3:res=_context6.sent;dispatch({type:typeAction,payload:res.data.data});_context6.next=10;break;case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 10:case\"end\":return _context6.stop();}}},_callee6,null,[[0,7]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var createFile=function createFile(endPoint,typeAction,data,fileName){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var formData,res,Toast;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:formData=new FormData();Object.keys(data).map(function(key){if(key===fileName){return formData.append(key,data[key][0]);}else{return formData.append(key,data[key]);}});_context7.prev=2;_context7.next=5;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endPoint),headers:{Authorization:\"Bearer \".concat(storedJwt),'Content-Type':'multipart/form-data'},method:'post',data:formData});case 5:res=_context7.sent;dispatch({type:typeAction,payload:res.data.data});Toast=Swal.mixin({toast:true,position:'top-end',showConfirmButton:false,timer:1500});Toast.fire({icon:'success',title:'Se guardo correctamente'});_context7.next=15;break;case 11:_context7.prev=11;_context7.t0=_context7[\"catch\"](2);console.log(_context7.t0);Swal.fire({title:'Error!',text:'Ah ocurrido un error',icon:'error',confirmButtonColor:'#3085d6',confirmButtonText:'Aceptar'});case 15:case\"end\":return _context7.stop();}}},_callee7,null,[[2,11]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var updateFile=function updateFile(endPoint,typeAction,data,fileName){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var formData,res,Toast;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:formData=new FormData();// eslint-disable-next-line\nObject.keys(data).map(function(key){if(key===fileName){if(data[key].length>0){return formData.append(key,data[key][0]);}}else{return formData.append(key,data[key]);}});_context8.prev=2;_context8.next=5;return axios({url:\"\".concat(process.env.REACT_APP_API).concat(endPoint),headers:{Authorization:\"Bearer \".concat(storedJwt),'Content-Type':'multipart/form-data'},method:'put',data:formData});case 5:res=_context8.sent;dispatch({type:typeAction,payload:res.data.data});Toast=Swal.mixin({toast:true,position:'top-end',showConfirmButton:false,timer:1500});Toast.fire({icon:'success',title:'Se guardo correctamente'});_context8.next=15;break;case 11:_context8.prev=11;_context8.t0=_context8[\"catch\"](2);console.log(_context8.t0);Swal.fire({title:'Error!',text:'Ah ocurrido un error',icon:'error',confirmButtonColor:'#3085d6',confirmButtonText:'Aceptar'});case 15:case\"end\":return _context8.stop();}}},_callee8,null,[[2,11]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/MEPSA-FULLSTACK/Desktop/workspace-release-12-2022/web/src/actions/index.js"],"names":["axios","Swal","API_KEY_TOKEN","interceptors","response","use","error","status","fire","title","text","icon","confirmButtonColor","confirmButtonText","then","result","isConfirmed","logOut","window","location","href","Promise","reject","setTitle","payload","type","setWraper","setLoading","setSocket","setUser","redirectionUrl","dispatch","user","password","method","url","process","env","REACT_APP_API","auth","username","data","apiKeyToken","res","localStorage","setItem","token","name","id","role","BranchCD","department","storedJwt","getItem","getAll","endPoint","typeAction","headers","Authorization","console","log","get","create","Toast","mixin","toast","position","showConfirmButton","timer","update","endpoint","parseInt","deleted","createFile","fileName","formData","FormData","Object","keys","map","key","append","updateFile","length"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Swal from 'sweetalert2'\n\nconst API_KEY_TOKEN =\n  '52b2165c5a8252eef0a3781c5a31bc9fc9a4bca0f5085a8650ea3306057f31d9'\n\naxios.interceptors.response.use(\n  function (response) {\n    return response\n  },\n  function (error) {\n    if (error.response.status === 401) {\n      Swal.fire({\n        title: 'Sesión Expirada',\n        text: 'Su sesión ha expirado',\n        icon: 'warning',\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Aceptar',\n      }).then(result => {\n        if (result.isConfirmed) {\n          logOut()\n          window.location.href = '/login'\n        }\n      })\n    } else {\n      return Promise.reject(error)\n    }\n  }\n)\n\nexport const setTitle = payload => ({\n  type: 'SET_TITLE',\n  payload,\n})\n\nexport const setWraper = payload => ({\n  type: 'SET_WRAPER',\n  payload,\n})\n\nexport const setLoading = payload => ({\n  type: 'SET_LOADING',\n  payload,\n})\n\nexport const setSocket = payload => ({\n  type: 'SET_SOCKET',\n  payload,\n})\n\nexport const setUser = (payload, redirectionUrl) => async dispatch => {\n  const { user, password } = payload\n  try {\n    const res = await axios({\n      method: 'post',\n      url: `${process.env.REACT_APP_API}auth/sing-in`,\n      auth: {\n        username: user,\n        password,\n      },\n      data: {\n        apiKeyToken: API_KEY_TOKEN,\n      },\n    })\n\n    localStorage.setItem('token', res.data.token)\n    localStorage.setItem('user', res.data.user.user)\n    localStorage.setItem('name', res.data.user.name)\n    localStorage.setItem('id', res.data.user.id)\n    localStorage.setItem('role', res.data.user.role)\n    localStorage.setItem('BranchCD', res.data.user.BranchCD)\n    localStorage.setItem('department', res.data.user.department)\n\n    window.location.href = redirectionUrl\n\n    dispatch({\n      type: 'LOGIN_REQUEST',\n    })\n  } catch (error) {\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: 'Usuario o contraseña incorrectos',\n    })\n  }\n}\n\nexport const logOut = () => ({\n  type: 'LOG_OUT',\n})\n\n//CRUD\n\nconst storedJwt = localStorage.getItem('token')\n\nexport const getAll = (endPoint, typeAction) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endPoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'get',\n    })\n    console.log(res.data)\n    dispatch({\n      type: typeAction,\n      payload: res.data,\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const get = (endPoint, typeAction) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endPoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'get',\n    })\n    dispatch({\n      type: typeAction,\n      payload: res.data.data,\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const create = (endPoint, typeAction, data) => async dispatch => {\n  try {\n    await axios({\n      url: `${process.env.REACT_APP_API}${endPoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'post',\n      data: data,\n    })\n    dispatch({\n      type: typeAction,\n    })\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n    })\n    Toast.fire({\n      icon: 'success',\n      title: 'Se guardo correctamente',\n    })\n  } catch (error) {\n    console.log(error)\n    Swal.fire({\n      title: 'Error!',\n      text: 'Ah ocurrido un error',\n      icon: 'error',\n      confirmButtonColor: '#3085d6',\n      confirmButtonText: 'Aceptar',\n    })\n  }\n}\n\nexport const update = (endpoint, typeAction, data) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endpoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'put',\n      data: data,\n    })\n    dispatch({\n      type: typeAction,\n      payload: { ...data, id: res.data.data ? parseInt(res.data.data) : 0 },\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const deleted = (endpoint, typeAction) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endpoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'delete',\n    })\n    dispatch({\n      type: typeAction,\n      payload: res.data.data,\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const createFile =\n  (endPoint, typeAction, data, fileName) => async dispatch => {\n    const formData = new FormData()\n    Object.keys(data).map(key => {\n      if (key === fileName) {\n        return formData.append(key, data[key][0])\n      } else {\n        return formData.append(key, data[key])\n      }\n    })\n    try {\n      const res = await axios({\n        url: `${process.env.REACT_APP_API}${endPoint}`,\n        headers: {\n          Authorization: `Bearer ${storedJwt}`,\n          'Content-Type': 'multipart/form-data',\n        },\n        method: 'post',\n        data: formData,\n      })\n      dispatch({\n        type: typeAction,\n        payload: res.data.data,\n      })\n      const Toast = Swal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 1500,\n      })\n      Toast.fire({\n        icon: 'success',\n        title: 'Se guardo correctamente',\n      })\n    } catch (error) {\n      console.log(error)\n      Swal.fire({\n        title: 'Error!',\n        text: 'Ah ocurrido un error',\n        icon: 'error',\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Aceptar',\n      })\n    }\n  }\n\nexport const updateFile =\n  (endPoint, typeAction, data, fileName) => async dispatch => {\n    const formData = new FormData()\n    // eslint-disable-next-line\n    Object.keys(data).map(key => {\n      if (key === fileName) {\n        if (data[key].length > 0) {\n          return formData.append(key, data[key][0])\n        }\n      } else {\n        return formData.append(key, data[key])\n      }\n    })\n    try {\n      const res = await axios({\n        url: `${process.env.REACT_APP_API}${endPoint}`,\n        headers: {\n          Authorization: `Bearer ${storedJwt}`,\n          'Content-Type': 'multipart/form-data',\n        },\n        method: 'put',\n        data: formData,\n      })\n      dispatch({ type: typeAction, payload: res.data.data })\n      const Toast = Swal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 1500,\n      })\n      Toast.fire({\n        icon: 'success',\n        title: 'Se guardo correctamente',\n      })\n    } catch (error) {\n      console.log(error)\n      Swal.fire({\n        title: 'Error!',\n        text: 'Ah ocurrido un error',\n        icon: 'error',\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Aceptar',\n      })\n    }\n  }\n"]},"metadata":{},"sourceType":"module"}