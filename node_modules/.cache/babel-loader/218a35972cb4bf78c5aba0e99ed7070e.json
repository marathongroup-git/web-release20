{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import Swal from'sweetalert2';export var create=function create(data){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();Object.keys(data).map(function(key){if(key==='cv'){return formData.append(key,data[key][0]);}else{return formData.append(key,data[key]);}});_context.prev=2;_context.next=5;return axios({url:\"\".concat(process.env.REACT_APP_API,\"jobs/request\"),headers:{'Content-Type':'multipart/form-data'},method:'post',data:formData});case 5:dispatch({type:'REQUEST_JOB'});Swal.fire({title:'Correcto!',text:'Solicitud recibida',icon:'success',confirmButtonColor:'#C90026',confirmButtonText:'Aceptar'}).then(function(){window.location.href='/';});_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log(_context.t0);Swal.fire({title:'Error!',text:'Ah ocurrido un error',icon:'error',confirmButtonColor:'#3085d6',confirmButtonText:'Aceptar'});case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/MEPSA-FULLSTACK/Desktop/workspace-release-12-2022/web/src/pages/JobPool/actions.js"],"names":["axios","Swal","create","data","dispatch","formData","FormData","Object","keys","map","key","append","url","process","env","REACT_APP_API","headers","method","type","fire","title","text","icon","confirmButtonColor","confirmButtonText","then","window","location","href","console","log"],"mappings":"2XAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,IAAI,iGAAI,iBAAMC,QAAN,+HACtBC,QADsB,CACX,GAAIC,CAAAA,QAAJ,EADW,CAE5BC,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,GAAlB,CAAsB,SAAAC,GAAG,CAAI,CAC3B,GAAIA,GAAG,GAAK,IAAZ,CAAkB,CAChB,MAAOL,CAAAA,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,CAAqBP,IAAI,CAACO,GAAD,CAAJ,CAAU,CAAV,CAArB,CAAP,CACD,CAFD,IAEO,CACL,MAAOL,CAAAA,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,CAAqBP,IAAI,CAACO,GAAD,CAAzB,CAAP,CACD,CACF,CAND,EAF4B,sCAUpBV,CAAAA,KAAK,CAAC,CACVY,GAAG,WAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,gBADO,CAEVC,OAAO,CAAE,CACP,eAAgB,qBADT,CAFC,CAKVC,MAAM,CAAE,MALE,CAMVd,IAAI,CAAEE,QANI,CAAD,CAVe,QAkB1BD,QAAQ,CAAC,CACPc,IAAI,CAAE,aADC,CAAD,CAAR,CAGAjB,IAAI,CAACkB,IAAL,CAAU,CACRC,KAAK,CAAE,WADC,CAERC,IAAI,CAAE,oBAFE,CAGRC,IAAI,CAAE,SAHE,CAIRC,kBAAkB,CAAE,SAJZ,CAKRC,iBAAiB,CAAE,SALX,CAAV,EAMGC,IANH,CAMQ,UAAM,CACZC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACD,CARD,EArB0B,+EA+B1BC,OAAO,CAACC,GAAR,cACA7B,IAAI,CAACkB,IAAL,CAAU,CACRC,KAAK,CAAE,QADC,CAERC,IAAI,CAAE,sBAFE,CAGRC,IAAI,CAAE,OAHE,CAIRC,kBAAkB,CAAE,SAJZ,CAKRC,iBAAiB,CAAE,SALX,CAAV,EAhC0B,oEAAJ,gEAAnB","sourcesContent":["import axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport const create = data => async dispatch => {\n  const formData = new FormData()\n  Object.keys(data).map(key => {\n    if (key === 'cv') {\n      return formData.append(key, data[key][0])\n    } else {\n      return formData.append(key, data[key])\n    }\n  })\n  try {\n    await axios({\n      url: `${process.env.REACT_APP_API}jobs/request`,\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      method: 'post',\n      data: formData,\n    })\n    dispatch({\n      type: 'REQUEST_JOB',\n    })\n    Swal.fire({\n      title: 'Correcto!',\n      text: 'Solicitud recibida',\n      icon: 'success',\n      confirmButtonColor: '#C90026',\n      confirmButtonText: 'Aceptar',\n    }).then(() => {\n      window.location.href = '/'\n    })\n  } catch (error) {\n    console.log(error)\n    Swal.fire({\n      title: 'Error!',\n      text: 'Ah ocurrido un error',\n      icon: 'error',\n      confirmButtonColor: '#3085d6',\n      confirmButtonText: 'Aceptar',\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}