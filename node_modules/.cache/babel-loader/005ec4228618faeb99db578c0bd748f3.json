{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nvar API_KEY_TOKEN = '52b2165c5a8252eef0a3781c5a31bc9fc9a4bca0f5085a8650ea3306057f31d9';\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    Swal.fire({\n      title: 'Sesión Expirada',\n      text: 'Su sesión ha expirado',\n      icon: 'warning',\n      confirmButtonColor: '#3085d6',\n      confirmButtonText: 'Aceptar'\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        logOut();\n        window.location.href = '/login';\n      }\n    });\n  } else {\n    return Promise.reject(error);\n  }\n});\nexport var setTitle = function setTitle(payload) {\n  return {\n    type: 'SET_TITLE',\n    payload: payload\n  };\n};\nexport var setWraper = function setWraper(payload) {\n  return {\n    type: 'SET_WRAPER',\n    payload: payload\n  };\n};\nexport var setLoading = function setLoading(payload) {\n  return {\n    type: 'SET_LOADING',\n    payload: payload\n  };\n};\nexport var setSocket = function setSocket(payload) {\n  return {\n    type: 'SET_SOCKET',\n    payload: payload\n  };\n};\nexport var setUser = function setUser(payload, redirectionUrl) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var user, password, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              user = payload.user, password = payload.password;\n              _context.prev = 1;\n              _context.next = 4;\n              return axios({\n                method: 'post',\n                url: \"\".concat(process.env.REACT_APP_API, \"auth/sing-in\"),\n                auth: {\n                  username: user,\n                  password: password\n                },\n                data: {\n                  apiKeyToken: API_KEY_TOKEN\n                }\n              });\n\n            case 4:\n              res = _context.sent;\n              localStorage.setItem('token', res.data.token);\n              localStorage.setItem('user', res.data.user.user);\n              localStorage.setItem('name', res.data.user.name);\n              localStorage.setItem('id', res.data.user.id);\n              localStorage.setItem('role', res.data.user.role);\n              localStorage.setItem('BranchCD', res.data.user.BranchCD);\n              localStorage.setItem('department', res.data.user.department);\n              window.location.href = redirectionUrl;\n              dispatch({\n                type: 'LOGIN_REQUEST'\n              });\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](1);\n              Swal.fire({\n                icon: 'error',\n                title: 'Oops...',\n                text: 'Usuario o contraseña incorrectos'\n              });\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 16]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var logOut = function logOut() {\n  return {\n    type: 'LOG_OUT'\n  };\n}; //CRUD\n\nvar storedJwt = localStorage.getItem('token');\nexport var getAll = function getAll(endPoint, typeAction) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endPoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt)\n                },\n                method: 'get'\n              });\n\n            case 3:\n              res = _context2.sent;\n              console.log(res.data);\n              dispatch({\n                type: typeAction,\n                payload: res.data\n              });\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 8]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var get = function get(endPoint, typeAction) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endPoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt)\n                },\n                method: 'get'\n              });\n\n            case 3:\n              res = _context3.sent;\n              dispatch({\n                type: typeAction,\n                payload: res.data.data\n              });\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var create = function create(endPoint, typeAction, data) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var Toast;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endPoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt)\n                },\n                method: 'post',\n                data: data\n              });\n\n            case 3:\n              dispatch({\n                type: typeAction\n              });\n              Toast = Swal.mixin({\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 1500\n              });\n              Toast.fire({\n                icon: 'success',\n                title: 'Se guardo correctamente'\n              });\n              _context4.next = 12;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.log(_context4.t0);\n              Swal.fire({\n                title: 'Error!',\n                text: 'Ah ocurrido un error',\n                icon: 'error',\n                confirmButtonColor: '#3085d6',\n                confirmButtonText: 'Aceptar'\n              });\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 8]]);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var update = function update(endpoint, typeAction, data) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endpoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt)\n                },\n                method: 'put',\n                data: data\n              });\n\n            case 3:\n              res = _context5.sent;\n              dispatch({\n                type: typeAction,\n                payload: _objectSpread(_objectSpread({}, data), {}, {\n                  id: res.data.data ? parseInt(res.data.data) : 0\n                })\n              });\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.log(_context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};\nexport var deleted = function deleted(endpoint, typeAction) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endpoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt)\n                },\n                method: 'delete'\n              });\n\n            case 3:\n              res = _context6.sent;\n              dispatch({\n                type: typeAction,\n                payload: res.data.data\n              });\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.log(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n};\nexport var createFile = function createFile(endPoint, typeAction, data, fileName) {\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch) {\n      var formData, res, Toast;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              formData = new FormData();\n              Object.keys(data).map(function (key) {\n                if (key === fileName) {\n                  return formData.append(key, data[key][0]);\n                } else {\n                  return formData.append(key, data[key]);\n                }\n              });\n              _context7.prev = 2;\n              _context7.next = 5;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endPoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt),\n                  'Content-Type': 'multipart/form-data'\n                },\n                method: 'post',\n                data: formData\n              });\n\n            case 5:\n              res = _context7.sent;\n              dispatch({\n                type: typeAction,\n                payload: res.data.data\n              });\n              Toast = Swal.mixin({\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 1500\n              });\n              Toast.fire({\n                icon: 'success',\n                title: 'Se guardo correctamente'\n              });\n              _context7.next = 15;\n              break;\n\n            case 11:\n              _context7.prev = 11;\n              _context7.t0 = _context7[\"catch\"](2);\n              console.log(_context7.t0);\n              Swal.fire({\n                title: 'Error!',\n                text: 'Ah ocurrido un error',\n                icon: 'error',\n                confirmButtonColor: '#3085d6',\n                confirmButtonText: 'Aceptar'\n              });\n\n            case 15:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[2, 11]]);\n    }));\n\n    return function (_x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n};\nexport var updateFile = function updateFile(endPoint, typeAction, data, fileName) {\n  return /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch) {\n      var formData, res, Toast;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              formData = new FormData(); // eslint-disable-next-line\n\n              Object.keys(data).map(function (key) {\n                if (key === fileName) {\n                  if (data[key].length > 0) {\n                    return formData.append(key, data[key][0]);\n                  }\n                } else {\n                  return formData.append(key, data[key]);\n                }\n              });\n              _context8.prev = 2;\n              _context8.next = 5;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API).concat(endPoint),\n                headers: {\n                  Authorization: \"Bearer \".concat(storedJwt),\n                  'Content-Type': 'multipart/form-data'\n                },\n                method: 'put',\n                data: formData\n              });\n\n            case 5:\n              res = _context8.sent;\n              dispatch({\n                type: typeAction,\n                payload: res.data.data\n              });\n              Toast = Swal.mixin({\n                toast: true,\n                position: 'top-end',\n                showConfirmButton: false,\n                timer: 1500\n              });\n              Toast.fire({\n                icon: 'success',\n                title: 'Se guardo correctamente'\n              });\n              _context8.next = 15;\n              break;\n\n            case 11:\n              _context8.prev = 11;\n              _context8.t0 = _context8[\"catch\"](2);\n              console.log(_context8.t0);\n              Swal.fire({\n                title: 'Error!',\n                text: 'Ah ocurrido un error',\n                icon: 'error',\n                confirmButtonColor: '#3085d6',\n                confirmButtonText: 'Aceptar'\n              });\n\n            case 15:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[2, 11]]);\n    }));\n\n    return function (_x8) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/MEPSA-FULLSTACK/Desktop/workspace-release-12-2022/web/src/actions/index.js"],"names":["axios","Swal","API_KEY_TOKEN","interceptors","response","use","error","status","fire","title","text","icon","confirmButtonColor","confirmButtonText","then","result","isConfirmed","logOut","window","location","href","Promise","reject","setTitle","payload","type","setWraper","setLoading","setSocket","setUser","redirectionUrl","dispatch","user","password","method","url","process","env","REACT_APP_API","auth","username","data","apiKeyToken","res","localStorage","setItem","token","name","id","role","BranchCD","department","storedJwt","getItem","getAll","endPoint","typeAction","headers","Authorization","console","log","get","create","Toast","mixin","toast","position","showConfirmButton","timer","update","endpoint","parseInt","deleted","createFile","fileName","formData","FormData","Object","keys","map","key","append","updateFile","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,IAAMC,aAAa,GACjB,kEADF;AAGAF,KAAK,CAACG,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACE,UAAUD,QAAV,EAAoB;AAClB,SAAOA,QAAP;AACD,CAHH,EAIE,UAAUE,KAAV,EAAiB;AACf,MAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACjCN,IAAAA,IAAI,CAACO,IAAL,CAAU;AACRC,MAAAA,KAAK,EAAE,iBADC;AAERC,MAAAA,IAAI,EAAE,uBAFE;AAGRC,MAAAA,IAAI,EAAE,SAHE;AAIRC,MAAAA,kBAAkB,EAAE,SAJZ;AAKRC,MAAAA,iBAAiB,EAAE;AALX,KAAV,EAMGC,IANH,CAMQ,UAAAC,MAAM,EAAI;AAChB,UAAIA,MAAM,CAACC,WAAX,EAAwB;AACtBC,QAAAA,MAAM;AACNC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD;AACF,KAXD;AAYD,GAbD,MAaO;AACL,WAAOC,OAAO,CAACC,MAAR,CAAehB,KAAf,CAAP;AACD;AACF,CArBH;AAwBA,OAAO,IAAMiB,QAAQ,GAAG,SAAXA,QAAW,CAAAC,OAAO;AAAA,SAAK;AAClCC,IAAAA,IAAI,EAAE,WAD4B;AAElCD,IAAAA,OAAO,EAAPA;AAFkC,GAAL;AAAA,CAAxB;AAKP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,CAAAF,OAAO;AAAA,SAAK;AACnCC,IAAAA,IAAI,EAAE,YAD6B;AAEnCD,IAAAA,OAAO,EAAPA;AAFmC,GAAL;AAAA,CAAzB;AAKP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAH,OAAO;AAAA,SAAK;AACpCC,IAAAA,IAAI,EAAE,aAD8B;AAEpCD,IAAAA,OAAO,EAAPA;AAFoC,GAAL;AAAA,CAA1B;AAKP,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAAAJ,OAAO;AAAA,SAAK;AACnCC,IAAAA,IAAI,EAAE,YAD6B;AAEnCD,IAAAA,OAAO,EAAPA;AAFmC,GAAL;AAAA,CAAzB;AAKP,OAAO,IAAMK,OAAO,GAAG,SAAVA,OAAU,CAACL,OAAD,EAAUM,cAAV;AAAA;AAAA,wEAA6B,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1CC,cAAAA,IAD0C,GACvBR,OADuB,CAC1CQ,IAD0C,EACpCC,QADoC,GACvBT,OADuB,CACpCS,QADoC;AAAA;AAAA;AAAA,qBAG9BjC,KAAK,CAAC;AACtBkC,gBAAAA,MAAM,EAAE,MADc;AAEtBC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,iBAFmB;AAGtBC,gBAAAA,IAAI,EAAE;AACJC,kBAAAA,QAAQ,EAAER,IADN;AAEJC,kBAAAA,QAAQ,EAARA;AAFI,iBAHgB;AAOtBQ,gBAAAA,IAAI,EAAE;AACJC,kBAAAA,WAAW,EAAExC;AADT;AAPgB,eAAD,CAHyB;;AAAA;AAG1CyC,cAAAA,GAH0C;AAehDC,cAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACF,IAAJ,CAASK,KAAvC;AACAF,cAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,GAAG,CAACF,IAAJ,CAAST,IAAT,CAAcA,IAA3C;AACAY,cAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,GAAG,CAACF,IAAJ,CAAST,IAAT,CAAce,IAA3C;AACAH,cAAAA,YAAY,CAACC,OAAb,CAAqB,IAArB,EAA2BF,GAAG,CAACF,IAAJ,CAAST,IAAT,CAAcgB,EAAzC;AACAJ,cAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,GAAG,CAACF,IAAJ,CAAST,IAAT,CAAciB,IAA3C;AACAL,cAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,GAAG,CAACF,IAAJ,CAAST,IAAT,CAAckB,QAA/C;AACAN,cAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCF,GAAG,CAACF,IAAJ,CAAST,IAAT,CAAcmB,UAAjD;AAEAjC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBU,cAAvB;AAEAC,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE;AADC,eAAD,CAAR;AAzBgD;AAAA;;AAAA;AAAA;AAAA;AA6BhDxB,cAAAA,IAAI,CAACO,IAAL,CAAU;AACRG,gBAAAA,IAAI,EAAE,OADE;AAERF,gBAAAA,KAAK,EAAE,SAFC;AAGRC,gBAAAA,IAAI,EAAE;AAHE,eAAV;;AA7BgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA7B;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;AAqCP,OAAO,IAAMO,MAAM,GAAG,SAATA,MAAS;AAAA,SAAO;AAC3BQ,IAAAA,IAAI,EAAE;AADqB,GAAP;AAAA,CAAf,C,CAIP;;AAEA,IAAM2B,SAAS,GAAGR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAlB;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,QAAD,EAAWC,UAAX;AAAA;AAAA,yEAA0B,kBAAMzB,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE1B/B,KAAK,CAAC;AACtBmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCiB,QAAjC,CADmB;AAEtBE,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,aAAa,mBAAYN,SAAZ;AAAf,iBAFa;AAGtBlB,gBAAAA,MAAM,EAAE;AAHc,eAAD,CAFqB;;AAAA;AAEtCS,cAAAA,GAFsC;AAO5CgB,cAAAA,OAAO,CAACC,GAAR,CAAYjB,GAAG,CAACF,IAAhB;AACAV,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE+B,UADC;AAEPhC,gBAAAA,OAAO,EAAEmB,GAAG,CAACF;AAFN,eAAD,CAAR;AAR4C;AAAA;;AAAA;AAAA;AAAA;AAa5CkB,cAAAA,OAAO,CAACC,GAAR;;AAb4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1B;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf;AAiBP,OAAO,IAAMC,GAAG,GAAG,SAANA,GAAM,CAACN,QAAD,EAAWC,UAAX;AAAA;AAAA,yEAA0B,kBAAMzB,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEvB/B,KAAK,CAAC;AACtBmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCiB,QAAjC,CADmB;AAEtBE,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,aAAa,mBAAYN,SAAZ;AAAf,iBAFa;AAGtBlB,gBAAAA,MAAM,EAAE;AAHc,eAAD,CAFkB;;AAAA;AAEnCS,cAAAA,GAFmC;AAOzCZ,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE+B,UADC;AAEPhC,gBAAAA,OAAO,EAAEmB,GAAG,CAACF,IAAJ,CAASA;AAFX,eAAD,CAAR;AAPyC;AAAA;;AAAA;AAAA;AAAA;AAYzCkB,cAAAA,OAAO,CAACC,GAAR;;AAZyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1B;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAZ;AAgBP,OAAO,IAAME,MAAM,GAAG,SAATA,MAAS,CAACP,QAAD,EAAWC,UAAX,EAAuBf,IAAvB;AAAA;AAAA,yEAAgC,kBAAMV,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE5C/B,KAAK,CAAC;AACVmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCiB,QAAjC,CADO;AAEVE,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,aAAa,mBAAYN,SAAZ;AAAf,iBAFC;AAGVlB,gBAAAA,MAAM,EAAE,MAHE;AAIVO,gBAAAA,IAAI,EAAEA;AAJI,eAAD,CAFuC;;AAAA;AAQlDV,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE+B;AADC,eAAD,CAAR;AAGMO,cAAAA,KAX4C,GAWpC9D,IAAI,CAAC+D,KAAL,CAAW;AACvBC,gBAAAA,KAAK,EAAE,IADgB;AAEvBC,gBAAAA,QAAQ,EAAE,SAFa;AAGvBC,gBAAAA,iBAAiB,EAAE,KAHI;AAIvBC,gBAAAA,KAAK,EAAE;AAJgB,eAAX,CAXoC;AAiBlDL,cAAAA,KAAK,CAACvD,IAAN,CAAW;AACTG,gBAAAA,IAAI,EAAE,SADG;AAETF,gBAAAA,KAAK,EAAE;AAFE,eAAX;AAjBkD;AAAA;;AAAA;AAAA;AAAA;AAsBlDkD,cAAAA,OAAO,CAACC,GAAR;AACA3D,cAAAA,IAAI,CAACO,IAAL,CAAU;AACRC,gBAAAA,KAAK,EAAE,QADC;AAERC,gBAAAA,IAAI,EAAE,sBAFE;AAGRC,gBAAAA,IAAI,EAAE,OAHE;AAIRC,gBAAAA,kBAAkB,EAAE,SAJZ;AAKRC,gBAAAA,iBAAiB,EAAE;AALX,eAAV;;AAvBkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhC;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf;AAiCP,OAAO,IAAMwD,MAAM,GAAG,SAATA,MAAS,CAACC,QAAD,EAAWd,UAAX,EAAuBf,IAAvB;AAAA;AAAA,yEAAgC,kBAAMV,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEhC/B,KAAK,CAAC;AACtBmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCgC,QAAjC,CADmB;AAEtBb,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,aAAa,mBAAYN,SAAZ;AAAf,iBAFa;AAGtBlB,gBAAAA,MAAM,EAAE,KAHc;AAItBO,gBAAAA,IAAI,EAAEA;AAJgB,eAAD,CAF2B;;AAAA;AAE5CE,cAAAA,GAF4C;AAQlDZ,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE+B,UADC;AAEPhC,gBAAAA,OAAO,kCAAOiB,IAAP;AAAaO,kBAAAA,EAAE,EAAEL,GAAG,CAACF,IAAJ,CAASA,IAAT,GAAgB8B,QAAQ,CAAC5B,GAAG,CAACF,IAAJ,CAASA,IAAV,CAAxB,GAA0C;AAA3D;AAFA,eAAD,CAAR;AARkD;AAAA;;AAAA;AAAA;AAAA;AAalDkB,cAAAA,OAAO,CAACC,GAAR;;AAbkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhC;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf;AAiBP,OAAO,IAAMY,OAAO,GAAG,SAAVA,OAAU,CAACF,QAAD,EAAWd,UAAX;AAAA;AAAA,yEAA0B,kBAAMzB,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE3B/B,KAAK,CAAC;AACtBmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCgC,QAAjC,CADmB;AAEtBb,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,aAAa,mBAAYN,SAAZ;AAAf,iBAFa;AAGtBlB,gBAAAA,MAAM,EAAE;AAHc,eAAD,CAFsB;;AAAA;AAEvCS,cAAAA,GAFuC;AAO7CZ,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE+B,UADC;AAEPhC,gBAAAA,OAAO,EAAEmB,GAAG,CAACF,IAAJ,CAASA;AAFX,eAAD,CAAR;AAP6C;AAAA;;AAAA;AAAA;AAAA;AAY7CkB,cAAAA,OAAO,CAACC,GAAR;;AAZ6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1B;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;AAgBP,OAAO,IAAMa,UAAU,GACrB,SADWA,UACX,CAAClB,QAAD,EAAWC,UAAX,EAAuBf,IAAvB,EAA6BiC,QAA7B;AAAA;AAAA,yEAA0C,kBAAM3C,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAClC4C,cAAAA,QADkC,GACvB,IAAIC,QAAJ,EADuB;AAExCC,cAAAA,MAAM,CAACC,IAAP,CAAYrC,IAAZ,EAAkBsC,GAAlB,CAAsB,UAAAC,GAAG,EAAI;AAC3B,oBAAIA,GAAG,KAAKN,QAAZ,EAAsB;AACpB,yBAAOC,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,EAAqBvC,IAAI,CAACuC,GAAD,CAAJ,CAAU,CAAV,CAArB,CAAP;AACD,iBAFD,MAEO;AACL,yBAAOL,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,EAAqBvC,IAAI,CAACuC,GAAD,CAAzB,CAAP;AACD;AACF,eAND;AAFwC;AAAA;AAAA,qBAUpBhF,KAAK,CAAC;AACtBmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCiB,QAAjC,CADmB;AAEtBE,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,mBAAYN,SAAZ,CADN;AAEP,kCAAgB;AAFT,iBAFa;AAMtBlB,gBAAAA,MAAM,EAAE,MANc;AAOtBO,gBAAAA,IAAI,EAAEkC;AAPgB,eAAD,CAVe;;AAAA;AAUhChC,cAAAA,GAVgC;AAmBtCZ,cAAAA,QAAQ,CAAC;AACPN,gBAAAA,IAAI,EAAE+B,UADC;AAEPhC,gBAAAA,OAAO,EAAEmB,GAAG,CAACF,IAAJ,CAASA;AAFX,eAAD,CAAR;AAIMsB,cAAAA,KAvBgC,GAuBxB9D,IAAI,CAAC+D,KAAL,CAAW;AACvBC,gBAAAA,KAAK,EAAE,IADgB;AAEvBC,gBAAAA,QAAQ,EAAE,SAFa;AAGvBC,gBAAAA,iBAAiB,EAAE,KAHI;AAIvBC,gBAAAA,KAAK,EAAE;AAJgB,eAAX,CAvBwB;AA6BtCL,cAAAA,KAAK,CAACvD,IAAN,CAAW;AACTG,gBAAAA,IAAI,EAAE,SADG;AAETF,gBAAAA,KAAK,EAAE;AAFE,eAAX;AA7BsC;AAAA;;AAAA;AAAA;AAAA;AAkCtCkD,cAAAA,OAAO,CAACC,GAAR;AACA3D,cAAAA,IAAI,CAACO,IAAL,CAAU;AACRC,gBAAAA,KAAK,EAAE,QADC;AAERC,gBAAAA,IAAI,EAAE,sBAFE;AAGRC,gBAAAA,IAAI,EAAE,OAHE;AAIRC,gBAAAA,kBAAkB,EAAE,SAJZ;AAKRC,gBAAAA,iBAAiB,EAAE;AALX,eAAV;;AAnCsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1C;;AAAA;AAAA;AAAA;AAAA;AAAA,CADK;AA8CP,OAAO,IAAMqE,UAAU,GACrB,SADWA,UACX,CAAC3B,QAAD,EAAWC,UAAX,EAAuBf,IAAvB,EAA6BiC,QAA7B;AAAA;AAAA,yEAA0C,kBAAM3C,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAClC4C,cAAAA,QADkC,GACvB,IAAIC,QAAJ,EADuB,EAExC;;AACAC,cAAAA,MAAM,CAACC,IAAP,CAAYrC,IAAZ,EAAkBsC,GAAlB,CAAsB,UAAAC,GAAG,EAAI;AAC3B,oBAAIA,GAAG,KAAKN,QAAZ,EAAsB;AACpB,sBAAIjC,IAAI,CAACuC,GAAD,CAAJ,CAAUG,MAAV,GAAmB,CAAvB,EAA0B;AACxB,2BAAOR,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,EAAqBvC,IAAI,CAACuC,GAAD,CAAJ,CAAU,CAAV,CAArB,CAAP;AACD;AACF,iBAJD,MAIO;AACL,yBAAOL,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,EAAqBvC,IAAI,CAACuC,GAAD,CAAzB,CAAP;AACD;AACF,eARD;AAHwC;AAAA;AAAA,qBAapBhF,KAAK,CAAC;AACtBmC,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,SAAiCiB,QAAjC,CADmB;AAEtBE,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,mBAAYN,SAAZ,CADN;AAEP,kCAAgB;AAFT,iBAFa;AAMtBlB,gBAAAA,MAAM,EAAE,KANc;AAOtBO,gBAAAA,IAAI,EAAEkC;AAPgB,eAAD,CAbe;;AAAA;AAahChC,cAAAA,GAbgC;AAsBtCZ,cAAAA,QAAQ,CAAC;AAAEN,gBAAAA,IAAI,EAAE+B,UAAR;AAAoBhC,gBAAAA,OAAO,EAAEmB,GAAG,CAACF,IAAJ,CAASA;AAAtC,eAAD,CAAR;AACMsB,cAAAA,KAvBgC,GAuBxB9D,IAAI,CAAC+D,KAAL,CAAW;AACvBC,gBAAAA,KAAK,EAAE,IADgB;AAEvBC,gBAAAA,QAAQ,EAAE,SAFa;AAGvBC,gBAAAA,iBAAiB,EAAE,KAHI;AAIvBC,gBAAAA,KAAK,EAAE;AAJgB,eAAX,CAvBwB;AA6BtCL,cAAAA,KAAK,CAACvD,IAAN,CAAW;AACTG,gBAAAA,IAAI,EAAE,SADG;AAETF,gBAAAA,KAAK,EAAE;AAFE,eAAX;AA7BsC;AAAA;;AAAA;AAAA;AAAA;AAkCtCkD,cAAAA,OAAO,CAACC,GAAR;AACA3D,cAAAA,IAAI,CAACO,IAAL,CAAU;AACRC,gBAAAA,KAAK,EAAE,QADC;AAERC,gBAAAA,IAAI,EAAE,sBAFE;AAGRC,gBAAAA,IAAI,EAAE,OAHE;AAIRC,gBAAAA,kBAAkB,EAAE,SAJZ;AAKRC,gBAAAA,iBAAiB,EAAE;AALX,eAAV;;AAnCsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1C;;AAAA;AAAA;AAAA;AAAA;AAAA,CADK","sourcesContent":["import axios from 'axios'\nimport Swal from 'sweetalert2'\n\nconst API_KEY_TOKEN =\n  '52b2165c5a8252eef0a3781c5a31bc9fc9a4bca0f5085a8650ea3306057f31d9'\n\naxios.interceptors.response.use(\n  function (response) {\n    return response\n  },\n  function (error) {\n    if (error.response.status === 401) {\n      Swal.fire({\n        title: 'Sesión Expirada',\n        text: 'Su sesión ha expirado',\n        icon: 'warning',\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Aceptar',\n      }).then(result => {\n        if (result.isConfirmed) {\n          logOut()\n          window.location.href = '/login'\n        }\n      })\n    } else {\n      return Promise.reject(error)\n    }\n  }\n)\n\nexport const setTitle = payload => ({\n  type: 'SET_TITLE',\n  payload,\n})\n\nexport const setWraper = payload => ({\n  type: 'SET_WRAPER',\n  payload,\n})\n\nexport const setLoading = payload => ({\n  type: 'SET_LOADING',\n  payload,\n})\n\nexport const setSocket = payload => ({\n  type: 'SET_SOCKET',\n  payload,\n})\n\nexport const setUser = (payload, redirectionUrl) => async dispatch => {\n  const { user, password } = payload\n  try {\n    const res = await axios({\n      method: 'post',\n      url: `${process.env.REACT_APP_API}auth/sing-in`,\n      auth: {\n        username: user,\n        password,\n      },\n      data: {\n        apiKeyToken: API_KEY_TOKEN,\n      },\n    })\n\n    localStorage.setItem('token', res.data.token)\n    localStorage.setItem('user', res.data.user.user)\n    localStorage.setItem('name', res.data.user.name)\n    localStorage.setItem('id', res.data.user.id)\n    localStorage.setItem('role', res.data.user.role)\n    localStorage.setItem('BranchCD', res.data.user.BranchCD)\n    localStorage.setItem('department', res.data.user.department)\n\n    window.location.href = redirectionUrl\n\n    dispatch({\n      type: 'LOGIN_REQUEST',\n    })\n  } catch (error) {\n    Swal.fire({\n      icon: 'error',\n      title: 'Oops...',\n      text: 'Usuario o contraseña incorrectos',\n    })\n  }\n}\n\nexport const logOut = () => ({\n  type: 'LOG_OUT',\n})\n\n//CRUD\n\nconst storedJwt = localStorage.getItem('token')\n\nexport const getAll = (endPoint, typeAction) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endPoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'get',\n    })\n    console.log(res.data)\n    dispatch({\n      type: typeAction,\n      payload: res.data,\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const get = (endPoint, typeAction) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endPoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'get',\n    })\n    dispatch({\n      type: typeAction,\n      payload: res.data.data,\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const create = (endPoint, typeAction, data) => async dispatch => {\n  try {\n    await axios({\n      url: `${process.env.REACT_APP_API}${endPoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'post',\n      data: data,\n    })\n    dispatch({\n      type: typeAction,\n    })\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n    })\n    Toast.fire({\n      icon: 'success',\n      title: 'Se guardo correctamente',\n    })\n  } catch (error) {\n    console.log(error)\n    Swal.fire({\n      title: 'Error!',\n      text: 'Ah ocurrido un error',\n      icon: 'error',\n      confirmButtonColor: '#3085d6',\n      confirmButtonText: 'Aceptar',\n    })\n  }\n}\n\nexport const update = (endpoint, typeAction, data) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endpoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'put',\n      data: data,\n    })\n    dispatch({\n      type: typeAction,\n      payload: { ...data, id: res.data.data ? parseInt(res.data.data) : 0 },\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const deleted = (endpoint, typeAction) => async dispatch => {\n  try {\n    const res = await axios({\n      url: `${process.env.REACT_APP_API}${endpoint}`,\n      headers: { Authorization: `Bearer ${storedJwt}` },\n      method: 'delete',\n    })\n    dispatch({\n      type: typeAction,\n      payload: res.data.data,\n    })\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const createFile =\n  (endPoint, typeAction, data, fileName) => async dispatch => {\n    const formData = new FormData()\n    Object.keys(data).map(key => {\n      if (key === fileName) {\n        return formData.append(key, data[key][0])\n      } else {\n        return formData.append(key, data[key])\n      }\n    })\n    try {\n      const res = await axios({\n        url: `${process.env.REACT_APP_API}${endPoint}`,\n        headers: {\n          Authorization: `Bearer ${storedJwt}`,\n          'Content-Type': 'multipart/form-data',\n        },\n        method: 'post',\n        data: formData,\n      })\n      dispatch({\n        type: typeAction,\n        payload: res.data.data,\n      })\n      const Toast = Swal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 1500,\n      })\n      Toast.fire({\n        icon: 'success',\n        title: 'Se guardo correctamente',\n      })\n    } catch (error) {\n      console.log(error)\n      Swal.fire({\n        title: 'Error!',\n        text: 'Ah ocurrido un error',\n        icon: 'error',\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Aceptar',\n      })\n    }\n  }\n\nexport const updateFile =\n  (endPoint, typeAction, data, fileName) => async dispatch => {\n    const formData = new FormData()\n    // eslint-disable-next-line\n    Object.keys(data).map(key => {\n      if (key === fileName) {\n        if (data[key].length > 0) {\n          return formData.append(key, data[key][0])\n        }\n      } else {\n        return formData.append(key, data[key])\n      }\n    })\n    try {\n      const res = await axios({\n        url: `${process.env.REACT_APP_API}${endPoint}`,\n        headers: {\n          Authorization: `Bearer ${storedJwt}`,\n          'Content-Type': 'multipart/form-data',\n        },\n        method: 'put',\n        data: formData,\n      })\n      dispatch({ type: typeAction, payload: res.data.data })\n      const Toast = Swal.mixin({\n        toast: true,\n        position: 'top-end',\n        showConfirmButton: false,\n        timer: 1500,\n      })\n      Toast.fire({\n        icon: 'success',\n        title: 'Se guardo correctamente',\n      })\n    } catch (error) {\n      console.log(error)\n      Swal.fire({\n        title: 'Error!',\n        text: 'Ah ocurrido un error',\n        icon: 'error',\n        confirmButtonColor: '#3085d6',\n        confirmButtonText: 'Aceptar',\n      })\n    }\n  }\n"]},"metadata":{},"sourceType":"module"}