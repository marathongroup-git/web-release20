{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{connect}from'react-redux';import{Link,useParams}from'react-router-dom';import{getAll,get}from'../../../actions';import Title from'../../../components/Title';import Button from'../../../components/Button';import banner from'../../../assets/static/divisions/banner.jpg';import{BsChevronRight}from'react-icons/bs';import{AiOutlineFilePdf}from'react-icons/ai';import moment from'moment';import'../styles.scss';var Wiki=function Wiki(props){var posts=props.posts,categories=props.categories,post=props.post;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),selectedCategory=_useState2[0],setSelectedCategory=_useState2[1];var _useParams=useParams(),id=_useParams.id;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];useEffect(function(){props.getAll('wiki','GET_POSTS').then(function(){props.getAll('wiki/categories','GET_CATEGORIES');}).then(function(){props.get(\"wiki/\".concat(id),'GET_POST');});// eslint-disable-next-line\n},[]);var categoryFiltered=selectedCategory!==0?posts.filter(function(post){return post.category_id===selectedCategory;}):posts;var searchFiltered=categoryFiltered.filter(function(post){return post.title.toLowerCase().includes(search);});if(post){return/*#__PURE__*/React.createElement(\"div\",{className:\"wiki\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__background\",style:{backgroundImage:\"linear-gradient(\\n        rgba(0, 0, 0, 0.5),\\n        rgba(0, 0, 0, 0.5)\\n      ), url(\".concat(banner,\")\")}},/*#__PURE__*/React.createElement(Title,{className:\"title --center --white\"},post.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"wikiContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wikiContainer__content\"},/*#__PURE__*/React.createElement(\"img\",{className:\"wiki__banner\",src:\"\".concat(process.env.REACT_APP_API,\"docs/wiki/\").concat(post.img),alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__post\"},post.paragraph&&post.paragraph!==''?/*#__PURE__*/React.createElement(\"div\",{className:\"parragraph\"},post.paragraph):null,post.subtitle&&post.subtitle!==''?/*#__PURE__*/React.createElement(Title,null,post.subtitle):null,post.paragraph2&&post.paragraph2!==''?/*#__PURE__*/React.createElement(\"div\",{className:\"parragraph\"},/*#__PURE__*/React.createElement(\"img\",{src:banner,alt:\"\"}),post.paragraph2):null,post.paragraph3&&post.paragraph3!==''?/*#__PURE__*/React.createElement(\"div\",{className:\"parragraph\"},/*#__PURE__*/React.createElement(\"img\",{src:banner,alt:\"\"}),post.paragraph3):null),post.pdf&&post.pdf!==''?/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__file\"},/*#__PURE__*/React.createElement(\"a\",{href:\"\".concat(process.env.REACT_APP_API,\"docs/wiki/\").concat(post.pdf),target:\"blank\"},/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(AiOutlineFilePdf,null),\" Descargar\"))):null),/*#__PURE__*/React.createElement(\"div\",{className:\"wikiContainer__history\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__divider\"},\"Buscar\"),/*#__PURE__*/React.createElement(\"input\",{className:\"wiki__input\",onChange:function onChange(e){return setSearch(e.target.value);},placeholder:\"Buscar...\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__divider\"},\"Post Recientes\"),posts?posts.slice(0,3).map(function(post){return/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__entryBlog\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(process.env.REACT_APP_API,\"docs/wiki/\").concat(post.img),alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__textBoxBlog\"},/*#__PURE__*/React.createElement(\"span\",null,moment(post.created).format('YYYY-mm-DD'),\" |\\xA0By\",' ',post.user_name),/*#__PURE__*/React.createElement(\"div\",null,post.title)));}):/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__entryBlog\"},/*#__PURE__*/React.createElement(\"img\",{src:banner,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__textBoxBlog\"},/*#__PURE__*/React.createElement(\"span\",null,\"2020-01-01 |\\xA0By Marathon\"),/*#__PURE__*/React.createElement(\"div\",null,\"Seven Doubts You Should Clarify About\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__divider\"},\"Categor\\xEDas\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__month\",onClick:function onClick(){return setSelectedCategory(0);}},/*#__PURE__*/React.createElement(BsChevronRight,null),\" Todas\",/*#__PURE__*/React.createElement(\"hr\",null)),categories?categories.map(function(category){return/*#__PURE__*/React.createElement(\"div\",{className:\"wiki__month\",onClick:function onClick(){return setSelectedCategory(category.id);}},/*#__PURE__*/React.createElement(BsChevronRight,null),\" \",category.name,/*#__PURE__*/React.createElement(\"hr\",null));}):null)));}else{return/*#__PURE__*/React.createElement(\"h1\",null,\"Cargando\");}};var mapStateToProps=function mapStateToProps(state){return{posts:state.reducerWiki.posts,categories:state.reducerWiki.categories,post:state.reducerWiki.post};};var mapDispatchToProps={getAll:getAll,get:get};export default connect(mapStateToProps,mapDispatchToProps)(Wiki);","map":{"version":3,"sources":["C:/Users/MEPSA-FULLSTACK/Desktop/workspace-release-12-2022/web/src/pages/Wiki/WikiDetails/index.jsx"],"names":["React","useEffect","useState","connect","Link","useParams","getAll","get","Title","Button","banner","BsChevronRight","AiOutlineFilePdf","moment","Wiki","props","posts","categories","post","selectedCategory","setSelectedCategory","id","search","setSearch","then","categoryFiltered","filter","category_id","searchFiltered","title","toLowerCase","includes","backgroundImage","process","env","REACT_APP_API","img","paragraph","subtitle","paragraph2","paragraph3","pdf","e","target","value","slice","map","created","format","user_name","category","name","mapStateToProps","state","reducerWiki","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, useParams } from 'react-router-dom'\nimport { getAll, get } from '../../../actions'\nimport Title from '../../../components/Title'\nimport Button from '../../../components/Button'\nimport banner from '../../../assets/static/divisions/banner.jpg'\nimport { BsChevronRight } from 'react-icons/bs'\nimport { AiOutlineFilePdf } from 'react-icons/ai'\nimport moment from 'moment'\nimport '../styles.scss'\n\nconst Wiki = props => {\n  const { posts, categories, post } = props\n  const [selectedCategory, setSelectedCategory] = useState(0)\n  const { id } = useParams()\n  const [search, setSearch] = useState('')\n\n  useEffect(() => {\n    props\n      .getAll('wiki', 'GET_POSTS')\n      .then(() => {\n        props.getAll('wiki/categories', 'GET_CATEGORIES')\n      })\n      .then(() => {\n        props.get(`wiki/${id}`, 'GET_POST')\n      })\n\n    // eslint-disable-next-line\n  }, [])\n\n  const categoryFiltered =\n    selectedCategory !== 0\n      ? posts.filter(post => post.category_id === selectedCategory)\n      : posts\n\n  const searchFiltered = categoryFiltered.filter(post =>\n    post.title.toLowerCase().includes(search)\n  )\n\n  if (post) {\n    return (\n      <div className=\"wiki\">\n        <div\n          className=\"wiki__background\"\n          style={{\n            backgroundImage: `linear-gradient(\n        rgba(0, 0, 0, 0.5),\n        rgba(0, 0, 0, 0.5)\n      ), url(${banner})`,\n          }}\n        >\n          <Title className=\"title --center --white\">{post.title}</Title>\n        </div>\n        <div className=\"wikiContainer\">\n          <div className=\"wikiContainer__content\">\n            <img\n              className=\"wiki__banner\"\n              src={`${process.env.REACT_APP_API}docs/wiki/${post.img}`}\n              alt=\"\"\n            />\n            <div className=\"wiki__post\">\n              {post.paragraph && post.paragraph !== '' ? (\n                <div className=\"parragraph\">{post.paragraph}</div>\n              ) : null}\n              {post.subtitle && post.subtitle !== '' ? (\n                <Title>{post.subtitle}</Title>\n              ) : null}\n              {post.paragraph2 && post.paragraph2 !== '' ? (\n                <div className=\"parragraph\">\n                  <img src={banner} alt=\"\" />\n                  {post.paragraph2}\n                </div>\n              ) : null}\n              {post.paragraph3 && post.paragraph3 !== '' ? (\n                <div className=\"parragraph\">\n                  <img src={banner} alt=\"\" />\n                  {post.paragraph3}\n                </div>\n              ) : null}\n            </div>\n            {post.pdf && post.pdf !== '' ? (\n              <div className=\"wiki__file\">\n                <a\n                  href={`${process.env.REACT_APP_API}docs/wiki/${post.pdf}`}\n                  target=\"blank\"\n                >\n                  <Button>\n                    <AiOutlineFilePdf /> Descargar\n                  </Button>\n                </a>\n              </div>\n            ) : null}\n            {/*  <div className=\"wiki__commnets\">\n              <h5>Dejanos un comentario</h5>\n              <textarea name=\"\" id=\"\"></textarea>\n              <div className=\"wiki__inputsGroup\">\n                <input type=\"text\" />\n                <input type=\"text\" />\n                <input type=\"text\" />\n              </div>\n              <Button>Enviar</Button>\n            </div> */}\n          </div>\n          <div className=\"wikiContainer__history\">\n            <div className=\"wiki__divider\">Buscar</div>\n            <input\n              className=\"wiki__input\"\n              onChange={e => setSearch(e.target.value)}\n              placeholder=\"Buscar...\"\n            />\n            <div className=\"wiki__divider\">Post Recientes</div>\n            {posts ? (\n              posts.slice(0, 3).map(post => (\n                <div className=\"wiki__entryBlog\">\n                  <img\n                    src={`${process.env.REACT_APP_API}docs/wiki/${post.img}`}\n                    alt=\"\"\n                  />\n                  <div className=\"wiki__textBoxBlog\">\n                    <span>\n                      {moment(post.created).format('YYYY-mm-DD')} | By{' '}\n                      {post.user_name}\n                    </span>\n                    <div>{post.title}</div>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"wiki__entryBlog\">\n                <img src={banner} alt=\"\" />\n                <div className=\"wiki__textBoxBlog\">\n                  <span>2020-01-01 | By Marathon</span>\n                  <div>Seven Doubts You Should Clarify About</div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"wiki__divider\">Categorías</div>\n            <div className=\"wiki__month\" onClick={() => setSelectedCategory(0)}>\n              <BsChevronRight /> Todas\n              <hr />\n            </div>\n            {categories\n              ? categories.map(category => (\n                  <div\n                    className=\"wiki__month\"\n                    onClick={() => setSelectedCategory(category.id)}\n                  >\n                    <BsChevronRight /> {category.name}\n                    <hr />\n                  </div>\n                ))\n              : null}\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    return <h1>Cargando</h1>\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    posts: state.reducerWiki.posts,\n    categories: state.reducerWiki.categories,\n    post: state.reducerWiki.post,\n  }\n}\n\nconst mapDispatchToProps = {\n  getAll,\n  get,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Wiki)\n"]},"metadata":{},"sourceType":"module"}