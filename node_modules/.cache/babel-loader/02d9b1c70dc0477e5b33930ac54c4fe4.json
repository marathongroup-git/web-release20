{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\MEPSA-FULLSTACK\\\\Desktop\\\\workspace-release-12-2022\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport var create = function create(data) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var formData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              formData = new FormData();\n              Object.keys(data).map(function (key) {\n                if (key === 'cv') {\n                  return formData.append(key, data[key][0]);\n                } else {\n                  return formData.append(key, data[key]);\n                }\n              });\n              _context.prev = 2;\n              _context.next = 5;\n              return axios({\n                url: \"\".concat(process.env.REACT_APP_API, \"jobs/request\"),\n                headers: {\n                  'Content-Type': 'multipart/form-data'\n                },\n                method: 'post',\n                data: formData\n              });\n\n            case 5:\n              dispatch({\n                type: 'REQUEST_JOB'\n              });\n              Swal.fire({\n                title: 'Correcto!',\n                text: 'Solicitud recibida',\n                icon: 'success',\n                confirmButtonColor: '#C90026',\n                confirmButtonText: 'Aceptar'\n              }).then(function () {\n                window.location.href = '/';\n              });\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n              Swal.fire({\n                title: 'Error!',\n                text: 'Ah ocurrido un error',\n                icon: 'error',\n                confirmButtonColor: '#3085d6',\n                confirmButtonText: 'Aceptar'\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 9]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/MEPSA-FULLSTACK/Desktop/workspace-release-12-2022/web/src/pages/JobPool/actions.js"],"names":["axios","Swal","create","data","dispatch","formData","FormData","Object","keys","map","key","append","url","process","env","REACT_APP_API","headers","method","type","fire","title","text","icon","confirmButtonColor","confirmButtonText","then","window","location","href","console","log"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,IAAI;AAAA;AAAA,wEAAI,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBC,cAAAA,QADsB,GACX,IAAIC,QAAJ,EADW;AAE5BC,cAAAA,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,GAAlB,CAAsB,UAAAC,GAAG,EAAI;AAC3B,oBAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,yBAAOL,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,EAAqBP,IAAI,CAACO,GAAD,CAAJ,CAAU,CAAV,CAArB,CAAP;AACD,iBAFD,MAEO;AACL,yBAAOL,QAAQ,CAACM,MAAT,CAAgBD,GAAhB,EAAqBP,IAAI,CAACO,GAAD,CAAzB,CAAP;AACD;AACF,eAND;AAF4B;AAAA;AAAA,qBAUpBV,KAAK,CAAC;AACVY,gBAAAA,GAAG,YAAKC,OAAO,CAACC,GAAR,CAAYC,aAAjB,iBADO;AAEVC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAFC;AAKVC,gBAAAA,MAAM,EAAE,MALE;AAMVd,gBAAAA,IAAI,EAAEE;AANI,eAAD,CAVe;;AAAA;AAkB1BD,cAAAA,QAAQ,CAAC;AACPc,gBAAAA,IAAI,EAAE;AADC,eAAD,CAAR;AAGAjB,cAAAA,IAAI,CAACkB,IAAL,CAAU;AACRC,gBAAAA,KAAK,EAAE,WADC;AAERC,gBAAAA,IAAI,EAAE,oBAFE;AAGRC,gBAAAA,IAAI,EAAE,SAHE;AAIRC,gBAAAA,kBAAkB,EAAE,SAJZ;AAKRC,gBAAAA,iBAAiB,EAAE;AALX,eAAV,EAMGC,IANH,CAMQ,YAAM;AACZC,gBAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,eARD;AArB0B;AAAA;;AAAA;AAAA;AAAA;AA+B1BC,cAAAA,OAAO,CAACC,GAAR;AACA7B,cAAAA,IAAI,CAACkB,IAAL,CAAU;AACRC,gBAAAA,KAAK,EAAE,QADC;AAERC,gBAAAA,IAAI,EAAE,sBAFE;AAGRC,gBAAAA,IAAI,EAAE,OAHE;AAIRC,gBAAAA,kBAAkB,EAAE,SAJZ;AAKRC,gBAAAA,iBAAiB,EAAE;AALX,eAAV;;AAhC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB","sourcesContent":["import axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport const create = data => async dispatch => {\n  const formData = new FormData()\n  Object.keys(data).map(key => {\n    if (key === 'cv') {\n      return formData.append(key, data[key][0])\n    } else {\n      return formData.append(key, data[key])\n    }\n  })\n  try {\n    await axios({\n      url: `${process.env.REACT_APP_API}jobs/request`,\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      method: 'post',\n      data: formData,\n    })\n    dispatch({\n      type: 'REQUEST_JOB',\n    })\n    Swal.fire({\n      title: 'Correcto!',\n      text: 'Solicitud recibida',\n      icon: 'success',\n      confirmButtonColor: '#C90026',\n      confirmButtonText: 'Aceptar',\n    }).then(() => {\n      window.location.href = '/'\n    })\n  } catch (error) {\n    console.log(error)\n    Swal.fire({\n      title: 'Error!',\n      text: 'Ah ocurrido un error',\n      icon: 'error',\n      confirmButtonColor: '#3085d6',\n      confirmButtonText: 'Aceptar',\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}